(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/spinner.377ea55d.gif"},48:function(e,t,a){e.exports=a(80)},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),s=a.n(l),c=(a(29),a(2)),o=a(19),u=a(4),i=a(1),m=a.n(i),p=a(5),f=a(6),d=a.n(f),E="POST_ERROR",b=a(41),g=a.n(b),h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=g.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout(function(){return n({type:"REMOVE_ALERT",payload:r})},a)}},v=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},y=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&v(localStorage.token),e.prev=1,e.next=4,d.a.get("/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},N=Object(u.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e){e({type:"CLEAR_PROFILE"}),e({type:"LOGOUT"})}}})(function(e){var t=e.auth,a=t.isAuthenticated,l=t.loading,s=e.logout,o=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/post-form"},"+")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/dashboard"},r.a.createElement("i",{className:"fas fa-user"})," ",r.a.createElement("span",{className:"hide-sm"},"My Dashboard"))),r.a.createElement("li",null,r.a.createElement("a",{onClick:s,href:"/"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),"  ",r.a.createElement("span",{className:"hide-sm"},"Log out")))),u=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/login"},"+")),r.a.createElement(c.b,{to:"/register"},r.a.createElement("li",null,"Sign up")),r.a.createElement(c.b,{to:"/login"},r.a.createElement("li",null,"Log in")));return r.a.createElement("nav",{className:"navbar bg-white"},r.a.createElement("div",{className:"left-nav"},r.a.createElement("h1",null,r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:"/images/logo.svg",alt:"logo"}),r.a.createElement("h1",null,"IDEATOSHARE"))),r.a.createElement(c.b,{to:"/about"},"About")),!l&&r.a.createElement(n.Fragment,null,a?o:u))}),k=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){return e.isAuthenticated?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"dark-overlay"},r.a.createElement("div",{className:"landing-inner"},r.a.createElement("p",null,"Welcome to IdeaToShare"),r.a.createElement("p",{className:"lead"},"Share your ideas and problem with the world"),r.a.createElement("div",{className:"buttons"},r.a.createElement(c.b,{to:"/register",className:"btn btn-action"},"Sign up"),r.a.createElement(c.b,{to:"/login",className:"btn"},"Log in")))))}),O=function(){return r.a.createElement("div",{className:"about-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"left"},r.a.createElement("h1",null,"what is IdeaToShare"),r.a.createElement("p",null,"IdeaToshare is a community of changemakers, creators, developers or anyone where individuals can share their thoughts about the world. Whether it\u2019s a problem or anything you want to see in our world. Share, discuss, create !!!")),r.a.createElement("div",{className:"right"},r.a.createElement("img",{src:"images/community.svg",alt:"community"}))),r.a.createElement("div",{className:"how-to"},r.a.createElement("h2",null,"How does it work"),r.a.createElement("div",{className:"row1"},r.a.createElement("div",{className:"post-your-thought"},r.a.createElement("img",{src:"images/post.svg",alt:"post"}),r.a.createElement("h3",null,"Post your thoughts"),r.a.createElement("p",null,"Casually share your thoughts about problem or ideas things in your daily life.")),r.a.createElement("div",{className:"discuss"},r.a.createElement("img",{src:"images/discuss.svg",alt:"discuss"}),r.a.createElement("h3",null,"Discuss with others"),r.a.createElement("p",null,"Discuss with others in the community and see whether you can tackle these problem or make these ideas come tre. Maybe someone already solved your problem, maybe it is the novel idea?")),r.a.createElement("div",{className:"help"},r.a.createElement("img",{src:"images/help.svg",alt:"help"}),r.a.createElement("h3",null,"Ask for help"),r.a.createElement("p",null,"If you cannot achieve these alone, maybe you can ask others who sympathize to what you are doing.v"))),r.a.createElement("div",{className:"row2"},r.a.createElement("div",{className:"update"},r.a.createElement("img",{src:"images/update.svg",alt:"update"}),r.a.createElement("h3",null,"Update the status"),r.a.createElement("p",null,"Update the status of your thoughts Are you taklig it? Is it already solved by somehow? Are anyone working on thse problem")),r.a.createElement("div",{className:"facebook"},r.a.createElement("img",{src:"images/facebook.svg",alt:"facebook"}),r.a.createElement("h3",null,"Join facebook group"),r.a.createElement("p",null,"Connect with others more closely and be part of the community.")),r.a.createElement("div",{className:"tackle"},r.a.createElement("img",{src:"/images/tackle.svg",alt:"tackle"}),r.a.createElement("h3",null,"Make it happen"),r.a.createElement("p",null,"Try to solve the problem of make your ideas come true ! Challenge yourself. Let see what you can do to chagne the world."))))))},x=a(14),w=a(3),j=a(7),C=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{setAlert:h,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(p.a)(m.a.mark(function e(r){var l,s,c,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,d.a.post("/api/users",s,l);case 5:c=e.sent,r({type:"REGISTER_SUCCESS",payload:c.data}),r(y()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(o=e.t0.response.data.errors)&&o.forEach(function(e){return r(h(e.msg,"danger"))}),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.setAlert,a=e.register,l=e.isAuthenticated,s=Object(n.useState)({name:"",email:"",password:"",password2:""}),u=Object(j.a)(s,2),i=u[0],f=u[1],d=i.name,E=i.email,b=i.password,g=i.password2,h=function(e){return f(Object(w.a)({},i,Object(x.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(p.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),b!==g?t("Passwords do not match","danger"):a({name:d,email:E,password:b});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l?r.a.createElement(o.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"register-form"},r.a.createElement("h1",{className:"large bold"},"Create your account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return v(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Name"),r.a.createElement("input",{name:"name",type:"text",placeholder:"Name",requried:!0,value:d,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"E-mail"),r.a.createElement("input",{name:"email",type:"email",placeholder:"E-mail",value:E,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Password"),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",minLength:"6",value:b,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{class:"confirm"},"Confirm password"),r.a.createElement("input",{name:"password2",type:"password",placeholder:"Confirm Password",minLength:"6",value:g,onChange:function(e){return h(e)}})),r.a.createElement("input",{type:"submit",value:"Create account",className:"btn btn-action"})),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(c.b,{to:"/login"},"Sign in")),r.a.createElement("p",{className:"small"},"By signing up, you agree to the ",r.a.createElement(c.b,null,"Terms of Service")," and"," ",r.a.createElement(c.b,null,"Privacy Policy"))))}),S=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r,l,s,c;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},l=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,d.a.post("/api/auth",l,r);case 5:s=a.sent,n({type:"LOGIN_SUCCESS",payload:s.data}),n(y()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),(c=a.t0.response.data.errors)&&c.forEach(function(e){return n(h(e.msg,"danger"))}),n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}},a,null,[[2,10]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.login,a=e.isAuthenticated,l=Object(n.useState)({email:"",password:""}),s=Object(j.a)(l,2),u=s[0],i=s[1],f=u.email,d=u.password,E=function(e){return i(Object(w.a)({},u,Object(x.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(p.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(f,d);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(o.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"register-form"},r.a.createElement("h1",{className:"large bold"},"Sign in to your account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return b(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"E-mail"),r.a.createElement("input",{name:"email",type:"email",placeholder:"E-mail",value:f,onChange:function(e){return E(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Password"),r.a.createElement("input",{name:"password",type:"password",placeholder:"Password",minLength:"6",value:d,onChange:function(e){return E(e)}})),r.a.createElement("input",{type:"submit",value:"Sign in",className:"btn btn-action"})),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(c.b,{to:"/register"},"Sign up"))))}),_=a(43),T=a.n(_),P=function(){return r.a.createElement("div",{className:"container-xy"},r.a.createElement("div",{className:"center-xy"},r.a.createElement("img",{src:T.a,style:{width:"200px",margin:"auto",display:"block"},alt:"Landing..."}),r.a.createElement("h1",null,"loading...")))},R=function(){return r.a.createElement("div",{className:"dash-buttons"},r.a.createElement(c.b,{to:"/edit-profile",className:"btn btn-light"},r.a.createElement("i",{class:"fas fa-edit"})," Edit"))},L=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CLEAR_PROFILE"}),e.prev=1,e.next=4,d.a.get("/api/profile/me");case 4:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(p.a)(m.a.mark(function n(r){var l,s,c;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l={headers:{"Content-Type":"application/json"}},n.next=4,d.a.post("/api/profile",e,l);case 4:s=n.sent,r({type:"GET_PROFILE",payload:s.data}),r(h(a?"Profile Updated":"Profile Created","success")),t.push("/dashboard"),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),(c=n.t0.response.data.errors)&&c.forEach(function(e){return r(h(e.msg,"danger"))}),r({type:"PROFILE_ERROR",payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 15:case"end":return n.stop()}},n,null,[[0,10]])}));return function(e){return n.apply(this,arguments)}}()},D=function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/posts");case 3:a=e.sent,t({type:"GET_POSTS",payload:a.data}),console.log("3"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:E,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},I=function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.put("/api/posts/comment/".concat(e,"/").concat(t,"/togglelike_comment"));case 3:r=a.sent,n({type:"UPDATE_COMMENT_LIKES",payload:r.data}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),n(h("Please login to like","danger")),n({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!window.confirm("Are you sure you want to delet this post?")){a.next=8;break}return a.next=5,d.a.delete("/api/posts/".concat(e));case 5:n({type:"DELETE_POST",payload:e}),n(h("Post Removed","success")),t.push("/");case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 13:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()},F=a(17),U=a.n(F),G=Object(u.b)(function(e){return{auth:e.auth}},{toggleLike:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.put("/api/posts/togglelike/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKES",payload:{id:e,likes:n.data}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a(h("Please login to vote","danger")),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},deletePost:M,toggleStatus:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.put("/api/posts/status/".concat(e));case 3:n=t.sent,a({type:"UPDATE_STATUS",payload:{id:e,status:n.data}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a(h("You are not authorized","danger")),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(function(e){var t,a=e.toggleLike,n=e.deletePost,l=e.toggleStatus,s=e.auth,o=e.post,u=o._id,i=o.title,m=o.name,p=o.avatar,f=o.user,d=o.likes,E=o.comments,b=o.date,g=o.status,h=e.history;return t="red"===g?r.a.createElement("p",null,"To Tackle"):"yellow"===g?r.a.createElement("p",null,"On Progress"):"green"===g?r.a.createElement("p",null,"Done"):r.a.createElement("p",null,"No Status"),r.a.createElement("div",{className:"post-item ".concat(g,"-border")},r.a.createElement("div",{className:"left"},r.a.createElement(c.b,{to:"/profile/".concat(f)},r.a.createElement("img",{className:"post-avatar",src:p,alt:"avatar".concat(m)}),r.a.createElement("p",null,m)),!s.loading&&s.isAuthenticated&&s.user&&f===s.user._id&&r.a.createElement("button",{onClick:function(e){return n(u,h)},type:"button",className:"delete-post-button"},r.a.createElement("i",{class:"fas fa-trash-alt"}))),r.a.createElement(c.b,{to:"posts/".concat(u),className:"middle"},r.a.createElement("p",{className:"my-1 post-item-content"},i),r.a.createElement("p",{className:"post-date small"},"Posted on ",r.a.createElement(U.a,{format:"YYYY/MM/DD"},b)),r.a.createElement("span",{className:"border-btn"},r.a.createElement(c.b,{to:"posts/".concat(u)},r.a.createElement("i",{className:"fas fa-comments"})," ",r.a.createElement("span",{className:"comment-count"},E.length>0?E.length:0)))),r.a.createElement("div",{className:"right"},s&&s.user&&d.filter(function(e){return e.user===s.user._id}).length>0?r.a.createElement("button",{onClick:function(e){return a(u)},type:"button",className:"btn toggle-like primary-border"},r.a.createElement("i",{class:"fas fa-sort-up text-primary"})," ",r.a.createElement("div",{className:"comment-count"},d.length>0?d.length:0)):r.a.createElement("button",{onClick:function(e){return a(u)},type:"button",className:"btn toggle-like"},r.a.createElement("i",{class:"fas fa-sort-up text-grey"})," ",r.a.createElement("div",{className:"comment-count"},d.length>0?d.length:0)),r.a.createElement("button",{className:"status",onClick:function(e){return l(u)}},r.a.createElement("p",{className:"status1"},"status"),r.a.createElement("p",{className:"status2 ".concat(g,"-status")},t))))}),Y=Object(u.b)(function(e){return{auth:e.auth,profile:e.profile,post:e.post}},{getPosts:D,getCurrentProfile:L,deleteAccount:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure? This cannot be undone."))try{t({type:"CLEAR_PROFILE"}),t({type:"ACCOUNT_DELETED"}),t(h("Your account has been permanently deleted","success"))}catch(a){t({type:"PROFILE_ERROR",payload:{msg:a.response.statusText,status:a.response.status}})}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getCurrentProfile,a=e.getPosts,l=e.deleteAccount,s=e.auth.user,o=e.post.posts,u=e.profile,i=u.profile,m=u.loading;return Object(n.useEffect)(function(){a(),t()},[t,a]),m&&null===i?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Dashboard"),r.a.createElement("p",null,r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-user"}),"Hello ",s&&s.name,", Welcome to IdeaShare")),null!==i?r.a.createElement("div",{className:"profile-action"},r.a.createElement(c.b,{to:"/profile/".concat(s._id),className:"btn btn-primary"},"My profile"),r.a.createElement(R,null),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return l()}},r.a.createElement("i",{class:"fas fa-user-minus"}),"Delete My Account"))):r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"You have not created profile yet, let's add some info."),r.a.createElement("div",{className:"profile-action"},r.a.createElement(c.b,{to:"create-profile",className:"btn btn-primary"},"Create Profile"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return l()}},r.a.createElement("i",{class:"fas fa-user-minus"}),"Delete My Account"))),r.a.createElement("div",{className:"my-post-section"},r.a.createElement("h2",null,"My posts"),o.filter(function(e){return e.user===s._id}).map(function(e){return r.a.createElement(G,{key:e._id,post:e})})))}),B=Object(u.b)(null,{createProfile:A})(Object(o.g)(function(e){var t=e.createProfile,a=e.history,l=Object(n.useState)({website:"",location:"",status:"",skills:"",bio:"",youtube:"",twitter:"",facebook:"",instagram:"",linkedin:""}),s=Object(j.a)(l,2),o=s[0],u=s[1],i=Object(n.useState)(!1),m=Object(j.a)(i,2),p=m[0],f=m[1],d=o.website,E=o.location,b=o.status,g=o.skills,h=o.bio,v=o.youtube,y=o.twitter,N=o.facebook,k=o.instagram,O=o.linkedin,C=function(e){return u(Object(w.a)({},o,Object(x.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"edit-profile-section"},r.a.createElement("h1",{className:"large text-primary"},"Create Your Profile"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Let's get some information to make your profile stand out"),r.a.createElement("small",null,"* = required field"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t(o,a)}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{name:"status",value:b,onChange:function(e){return C(e)}},r.a.createElement("option",{value:"0"},"* Select Professional Status"),r.a.createElement("option",{value:"Artist"},"Artist"),r.a.createElement("option",{value:"Developer"},"Developer"),r.a.createElement("option",{value:"Designer"},"Designer"),r.a.createElement("option",{value:"Professor"},"Professor"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("small",{className:"form-text"},"Give us an idea of where you are at in your career")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Website",name:"website",value:d,onChange:function(e){return C(e)}}),r.a.createElement("small",{className:"form-text"},"Could be your own or a company website")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Location",name:"location",value:E,onChange:function(e){return C(e)}}),r.a.createElement("small",{className:"form-text"},"City & state suggested (eg. Boston, MA)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"* Skills",name:"skills",value:g,onChange:function(e){return C(e)}}),r.a.createElement("small",{className:"form-text"},"Please use comma separated values (eg. HTML,CSS,JavaScript,PHP)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{placeholder:"A short bio of yourself",name:"bio",value:h,onChange:function(e){return C(e)}}),r.a.createElement("small",{className:"form-text"},"Tell us a little about yourself")),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{onClick:function(){return f(!p)},type:"button",className:"btn btn-light"},"Add Social Network Links"),r.a.createElement("span",null,"Optional")),p&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:y,onChange:function(e){return C(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:N,onChange:function(e){return C(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"YouTube URL",name:"youtube",value:v,onChange:function(e){return C(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-linkedin fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Linkedin URL",name:"linkedin",value:O,onChange:function(e){return C(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:k,onChange:function(e){return C(e)}}))),r.a.createElement("input",{type:"submit",className:"btn btn-primary my-1"}),r.a.createElement(c.b,{className:"m-1",to:"dashboard"},"Go Back")))})),W=Object(u.b)(function(e){return{profile:e.profile,auth:e.auth}},{createProfile:A,getCurrentProfile:L})(Object(o.g)(function(e){var t=e.profile,a=t.profile,l=t.loading,s=e.getCurrentProfile,u=e.createProfile,i=e.history,m=e.auth,p=Object(n.useState)({website:"",location:"",status:"",skills:"",bio:"",youtube:"",twitter:"",facebook:"",instagram:"",linkedin:""}),f=Object(j.a)(p,2),d=f[0],E=f[1],b=Object(n.useState)(!1),g=Object(j.a)(b,2),h=g[0],v=g[1];Object(n.useEffect)(function(){s(),E({website:l||!a.website?"":a.website,location:l||!a.location?"":a.location,status:l||!a.status?"":a.status,skills:l||!a.skills?"":a.skills,bio:l||!a.bio?"":a.bio,youtube:l||!a.youtube?"":a.youtube,twitter:l||!a.twitter?"":a.twitter,facebook:l||!a.facebook?"":a.facebook,instagram:l||!a.instagram?"":a.instagram,linkedin:l||!a.linkedin?"":a.linkedin})},[l,s]);var y=d.website,N=d.location,k=d.status,O=d.skills,C=d.bio,S=d.youtube,_=d.twitter,T=d.facebook,P=d.instagram,R=d.linkedin,L=function(e){return E(Object(w.a)({},d,Object(x.a)({},e.target.name,e.target.value)))};return m.isAuthenticated?r.a.createElement("div",{className:"edit-profile-section"},r.a.createElement("h1",{className:"large text-primary"},"Create Your Profile"),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-user"})," Let's get some information to make your profile stand out"),r.a.createElement("p",null,"* = required field"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),u(d,i,!0)}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"* What are you?"),r.a.createElement("select",{name:"status",value:k,onChange:function(e){return L(e)}},r.a.createElement("option",{value:"0"},"* Select Professional Status"),r.a.createElement("option",{value:"Artist"},"Artist"),r.a.createElement("option",{value:"Developer"},"Developer"),r.a.createElement("option",{value:"Designer"},"Designer"),r.a.createElement("option",{value:"Professor"},"Professor"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("p",{className:"small"},"Give us an idea of where you are at in your career")),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"Your website"),r.a.createElement("input",{type:"text",placeholder:"Website",name:"website",value:y,onChange:function(e){return L(e)}}),r.a.createElement("p",{className:"small"},"Could be your own or a company website")),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"Where do you live?"),r.a.createElement("input",{type:"text",placeholder:"Location",name:"location",value:N,onChange:function(e){return L(e)}}),r.a.createElement("p",{className:"small"},"City & state suggested (eg. Boston, MA)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"What are your skills you want to share?"),r.a.createElement("input",{type:"text",placeholder:"* Skills",name:"skills",value:O,onChange:function(e){return L(e)}}),r.a.createElement("p",{className:"small"},"Please use comma separated values (eg. HTML,CSS,JavaScript,PHP)")),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"label"},"Tell us a little about yourself"),r.a.createElement("textarea",{placeholder:"A short bio of yourself",name:"bio",value:C,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"my-2"},r.a.createElement("button",{onClick:function(){return v(!h)},type:"button",className:"btn btn-light"},"Add Social Network Links"),r.a.createElement("span",null,"Optional")),h&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Twitter URL",name:"twitter",value:_,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Facebook URL",name:"facebook",value:T,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"YouTube URL",name:"youtube",value:S,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-linkedin fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Linkedin URL",name:"linkedin",value:R,onChange:function(e){return L(e)}})),r.a.createElement("div",{className:"form-group social-input"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}),r.a.createElement("input",{type:"text",placeholder:"Instagram URL",name:"instagram",value:P,onChange:function(e){return L(e)}}))),r.a.createElement("input",{type:"submit",className:"btn btn-primary my-1"}),r.a.createElement(c.b,{className:"m-1",to:"dashboard"},"Go Back"))):r.a.createElement(o.a,{to:"/login"})})),H=function(e){var t=e.profile,a=t.user,n=(a._id,a.name),l=a.avatar;t.status,t.location,t.skills;return r.a.createElement("div",null,r.a.createElement("img",{src:l,alt:"".concat(n,"-avatar"),className:"profile-avatar"}))},q=Object(u.b)(function(e){return{profile:e.profile}},{getProfiles:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"CLEAR_PROFILE"}),e.prev=1,e.next=4,d.a.get("/api/profile");case 4:a=e.sent,t({type:"GET_PROFILES",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getProfiles,a=e.profile,l=a.profiles,s=a.loading;return Object(n.useEffect)(function(){t()},[t]),r.a.createElement(n.Fragment,null,s||null===l?r.a.createElement(P,null):r.a.createElement("div",{className:"profiles-grid"},r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fab fa-connectdevelop"})," Our Ideators"),r.a.createElement("div",{className:"profiles"},r.a.createElement("div",{className:"flex"},l.length>0?l.map(function(e){return r.a.createElement(H,{key:e._id,profile:e})}):r.a.createElement("h4",null,"No profiles found ...")),r.a.createElement("hr",null),r.a.createElement("p",null,"show more"))))}),J=function(e){var t=e.profile,a=t.status,n=t.location,l=t.website,s=t.social,c=t.user,o=c.name,u=c.avatar;return r.a.createElement("div",{className:"profile-top"},r.a.createElement("img",{src:u,alt:"profile"}),r.a.createElement("h1",null,o),r.a.createElement("p",{className:"lead-status"},a),r.a.createElement("p",null,n&&r.a.createElement("span",null,n)),r.a.createElement("div",{class:"icons my-1"},l&&r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fas fa-globe fa-1x"})),s&&s.twitter&&r.a.createElement("a",{href:s.twitter,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-twitter"})),s&&s.facebook&&r.a.createElement("a",{href:s.facebook,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook"})),s&&s.linkedin&&r.a.createElement("a",{href:s.linkedin,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin"})),s&&s.youtube&&r.a.createElement("a",{href:s.youtube,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-youtube"})),s&&s.instagram&&r.a.createElement("a",{href:s.instagram,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"}))))},K=function(e){var t=e.profile,a=t.bio,l=t.skills,s=t.user.name.trim().split(" ")[0];return r.a.createElement("div",{class:"profile-about"},a&&r.a.createElement(n.Fragment,null,r.a.createElement("h2",{class:"text-primary"},"s"===s[s.length-1]?"".concat(s,"'"):"".concat(s,"'s")," ","Bio"),r.a.createElement("p",{className:"bio"},a)),r.a.createElement("div",null,r.a.createElement("h2",{class:"text-primary"},"Skills Set"),r.a.createElement("div",{className:"skills"},l.map(function(e,t){return r.a.createElement("div",{key:t,class:"p-1"},r.a.createElement("i",{class:"fa fa-check"})," ",e)}))))},V=Object(u.b)(function(e){return{profile:e.profile,auth:e.auth,post:e.post}},{getProfileById:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CLEAR_PROFILE"}),t.prev=1,t.next=4,d.a.get("/api/profile/user/".concat(e));case 4:n=t.sent,a({type:"GET_PROFILE",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("inside catch"),a({type:"PROFILE_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},getPosts:D})(function(e){var t=e.getProfileById,a=e.getPosts,l=e.profile,s=l.profile,o=l.loading,u=e.auth,i=e.post.posts,m=e.match;return Object(n.useEffect)(function(){t(m.params.id),a()},[t,a,m.params.id]),r.a.createElement(n.Fragment,null,o?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,s?r.a.createElement(n.Fragment,null,u.isAuthenticated&&!1===u.loading&&u.user._id===s.user._id&&r.a.createElement(c.b,{to:"/edit-profile",className:"btn btn-dark"},"Edit Profile"),r.a.createElement("div",{className:"profile-section"},r.a.createElement(J,{profile:s}),r.a.createElement(K,{profile:s})),r.a.createElement("div",{className:"look-down"},r.a.createElement("i",{className:"fas fa-chevron-down fa-2x"}),r.a.createElement("i",{className:"fas fa-chevron-down fa-2x relative"})),r.a.createElement("h2",null,"Posts from ",s.user.name),i.filter(function(e){return e.user===s.user._id}).length>0?r.a.createElement(n.Fragment,null,i.filter(function(e){return e.user===s.user._id}).map(function(e){return r.a.createElement(G,{key:e._id,post:e})})):r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"No post yet"))):r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Sorry, this user doesn't create a profile yet"),r.a.createElement(c.b,{to:"/"},r.a.createElement("i",{class:"fas fa-chevron-left"}),"Back to Home"))))}),z=Object(u.b)(function(e){return{user:e.user}},{getUsers:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/users");case 3:a=e.sent,t({type:"GET_USERS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.user,a=t.users,l=t.loading,s=e.getUsers;Object(n.useEffect)(function(){s()},[s]);return r.a.createElement(n.Fragment,null,l||null===a?r.a.createElement(P,null):r.a.createElement("div",{className:"users-grid"},r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fab fa-connectdevelop"})," Our Ideators Today"),r.a.createElement("div",{className:"users"},r.a.createElement("div",{className:"flex"},a.length>0?function(e){for(var t,a,n=e.length;0!==n;)a=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[a],e[a]=t;return e}(a).map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement(c.b,{to:"/profile/".concat(e._id)},r.a.createElement("img",{className:"user-avatar",src:e.avatar})))}):r.a.createElement("h4",null,"No profiles found ...")))))}),Q=Object(u.b)(function(e){return{post:e.post}},{getPosts:D})(function(e){var t=e.getPosts,a=e.post,l=a.posts,s=a.loading;return Object(n.useEffect)(function(){t()},[t]),s?r.a.createElement(P,null):r.a.createElement("div",{className:"main-grid"},r.a.createElement("div",{className:"posts-grid"},r.a.createElement("h1",{className:"large text-primary"},"Ideas"),r.a.createElement("div",{className:"posts"},l.sort(function(e,t){return e.likes.length>t.likes.length?-1:t.likes.length>e.likes.length?1:0}).map(function(e){return r.a.createElement(G,{key:e._id,post:e})}))),r.a.createElement(z,null))}),X=Object(u.b)(function(e){return{auth:e.auth}},{addComment:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r,l;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,d.a.post("/api/posts/comment/".concat(e),t,r);case 4:l=a.sent,n({type:"ADD_COMMENT",payload:l.data}),n(h("Comment Added","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}},a,null,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.auth,a=e.postId,l=e.addComment,s=Object(n.useState)(""),o=Object(j.a)(s,2),u=o[0],i=o[1];return r.a.createElement("div",{className:"comment-form"},r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),l(a,{text:u}),i("")}},!t.loading&&t.isAuthenticated?r.a.createElement(n.Fragment,null,r.a.createElement("img",{className:"avatar",src:t.user.avatar,alt:"user-avatar"}),r.a.createElement("textarea",{className:"comment-area-responsive",name:"title",placeholder:"What do you think?",value:u,onChange:function(e){return i(e.target.value)},required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Comment"})):r.a.createElement(n.Fragment,null,r.a.createElement("p",null,"Please ",r.a.createElement(c.b,{to:"/login"},"log in")," to comment"))))}),Z=Object(u.b)(function(e){return{auth:e.auth}},{deleteSubComment:function(e,t,a){return function(){var n=Object(p.a)(m.a.mark(function n(r){var l;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d.a.delete("/api/posts/comment/subcomment/".concat(e,"/").concat(t,"/").concat(a));case 3:l=n.sent,r({type:"REMOVE_SUB_COMMENT",payload:l.data}),r(h("Comment Removed","success")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}},n,null,[[0,8]])}));return function(e){return n.apply(this,arguments)}}()},toggleCommentLike:I})(function(e){e.postId;var t=e.subcomment,a=(t._id,t.text),n=t.name,l=t.avatar,s=t.user,o=t.date;t.likes,e.auth,e.deleteSubComment;return r.a.createElement("div",{className:"subcomment-item"},r.a.createElement("div",null,r.a.createElement(c.b,{className:"user",to:"/profile/".concat(s)},r.a.createElement("img",{className:"avatar",src:l,alt:""}),r.a.createElement("h4",{className:"user-name"},n))),r.a.createElement("div",null,r.a.createElement("p",{className:"comment-content"},a),r.a.createElement("p",{class:"comment-date"},r.a.createElement(U.a,{format:"YYYY/MM/DD"},o))))}),$=Object(u.b)(null,{addSubComment:function(e,t,a){return function(){var n=Object(p.a)(m.a.mark(function n(r){var l,s;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l={headers:{"Content-Type":"application/json"}},n.prev=1,n.next=4,d.a.post("/api/posts/comment/".concat(e,"/").concat(t),a,l);case 4:s=n.sent,r({type:"ADD_SUB_COMMENT",payload:s.data}),r(h("Comment Added","success")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}})(function(e){var t=e.addSubComment,a=e.postId,l=e.commentId,s=Object(n.useState)(""),c=Object(j.a)(s,2),o=c[0],u=c[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(a,l,{text:o}),u("")},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),t({text:o}),u(""))}},r.a.createElement("textarea",{name:"text",rows:"1",placeholder:"leave a comment",value:o,onChange:function(e){return u(e.target.value)},required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Add"})))}),ee=Object(u.b)(function(e){return{auth:e.auth}},{deleteComment:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.a.delete("/api/posts/comment/".concat(e,"/").concat(t));case 3:a.sent,n({type:"REMOVE_COMMENT",payload:t}),n(h("Comment Removed","success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},toggleCommentLike:I})(function(e){var t=e.postId,a=e.comment,l=a._id,s=a.text,o=a.name,u=a.avatar,i=a.user,m=a.date,p=a.likes,f=a.subComments,d=e.auth,E=e.deleteComment,b=e.toggleCommentLike,g=Object(n.useState)(!1),h=Object(j.a)(g,2),v=h[0],y=h[1];return r.a.createElement("div",{className:"comment-item"},r.a.createElement("div",null,r.a.createElement(c.b,{className:"user",to:"/profile/".concat(i)},r.a.createElement("img",{className:"avatar",src:u,alt:""}),r.a.createElement("h4",{className:"user-name"},o))),r.a.createElement("div",null,r.a.createElement("p",{className:"comment-content"},s),r.a.createElement("p",{class:"comment-date"},r.a.createElement(U.a,{format:"YYYY/MM/DD"},m)),r.a.createElement("div",{className:"comment-panel"},d&&d.user&&p.filter(function(e){return e.user===d.user._id}).length>0?r.a.createElement("button",{className:"text-primary",onClick:function(e){return b(t,l)}},"Upvote (",p.length,")"):r.a.createElement("button",{onClick:function(e){return b(t,l)}},"Upvote (",p.length,")"),r.a.createElement("button",{className:"toggle-form-button",onClick:function(e){return y(!v)}},r.a.createElement("p",null,"Reply"))),!d.loading&&d.isAuthenticated&&i===d.user._id&&r.a.createElement("button",{onClick:function(e){return E(t,l)},type:"button",className:"remove-comment"},"Delete"),r.a.createElement("div",{className:"subcomment-section"},r.a.createElement("div",{className:"subcomment-form"},v&&r.a.createElement($,{postId:t,commentId:l})),r.a.createElement("div",{className:"subcomment-items"},f.map(function(e){return r.a.createElement(Z,{subcomment:e,postId:t})})))))}),te=Object(u.b)(function(e){return{post:e.post,auth:e.auth,alert:e.alert}},{getPost:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/api/posts/".concat(e));case 3:n=t.sent,a({type:"GET_POST",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:E,payload:{msg:t.t0.message,status:t.t0.name}});case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},getPosts:D,deletePost:M,toggleLikePostPage:function(e){return function(){var t=Object(p.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.put("/api/posts/togglelike/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKE",payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a(h("Please login to vote","danger")),a({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(Object(o.g)(function(e){var t=e.getPost,a=(e.getPosts,e.post),l=a.post,s=a.loading,o=e.match,u=e.auth,i=e.deletePost,m=e.toggleLikePostPage,p=(e.alert,e.history);return Object(n.useEffect)(function(){t(o.params.id)},[t]),s||null===l?r.a.createElement(P,null):r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{to:"/posts",className:"btn"},"Back to posts"),r.a.createElement("div",{className:"post"},r.a.createElement("div",{className:"left"},r.a.createElement(c.b,{className:"user",to:"/profile/".concat(l.user)},r.a.createElement("img",{className:"avatar",src:l.avatar,alt:""}),r.a.createElement("p",{className:"user-name"}," ",l.name)),r.a.createElement("div",{className:"post-content"},r.a.createElement("h1",{className:"post-title"},l.title),r.a.createElement("p",{className:"post-body"},l.body),r.a.createElement("p",{className:"post-date"},"Posted on ",r.a.createElement(U.a,{format:"YYYY/MM/DD"},l.date)),r.a.createElement("span",{className:"border-btn"},r.a.createElement("i",{class:"fas fa-comments border-btn"})," ",l.comments.length>0&&r.a.createElement("span",{className:"comment-count"},l.comments.length)),!u.loading&&u.isAuthenticated&&u.user&&l.user===u.user._id&&r.a.createElement("button",{onClick:function(e){return i(l._id,p)},type:"button"},"Delete this post"))),r.a.createElement("div",{className:"right"},u&&u.user&&l.likes.filter(function(e){return e.user===u.user._id}).length>0?r.a.createElement("button",{onClick:function(e){return m(l._id)},type:"button",className:"btn toggle-like primary-border"},r.a.createElement("i",{class:"fas fa-sort-up"})," ",r.a.createElement("div",{className:"comment-count"},l.likes.length>0?l.likes.length:0)):r.a.createElement("button",{onClick:function(e){return m(l._id)},type:"button",className:"btn toggle-like"},r.a.createElement("i",{class:"fas fa-sort-up border-btn"})," ",r.a.createElement("div",{className:"comment-count"},l.likes.length>0?l.likes.length:0)))),r.a.createElement("h2",null,"Discussion"),r.a.createElement("div",{className:"discussion-section"},r.a.createElement(X,{postId:l._id}),r.a.createElement("div",{className:"comments"},l.comments.sort(function(e,t){return e.likes.length>t.likes.length?-1:t.likes.length>e.likes.length?1:0}).map(function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(ee,{key:e._id,comment:e,postId:l._id}))}))))})),ae=Object(u.b)(function(e){return{post:e.post,alert:e.alert}},{addPost:function(e,t){return function(){var a=Object(p.a)(m.a.mark(function a(n){var r,l;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,d.a.post("/api/posts",e,r);case 4:l=a.sent,n({type:"ADD_POST",payload:l.data}),n(h("Post Created","success")),t.push("/posts/".concat(l.data._id)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 13:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()}})(Object(o.g)(function(e){e.post.post;var t=e.addPost,a=(e.alert,e.history),l=Object(n.useState)({title:"",body:""}),s=Object(j.a)(l,2),c=s[0],o=s[1];return r.a.createElement("div",{className:"post-form"},r.a.createElement("h3",null,"Share you idea"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(c,a),o("")}},r.a.createElement("textarea",{name:"title",rows:"3",placeholder:"What is the idea, problem you have?",value:c.title,onChange:function(e){return o(Object(w.a)({},c,{title:e.target.value}))},required:!0}),r.a.createElement("textarea",{name:"body",rows:"5",placeholder:"Tell us more how you come up with that, what is the background",value:c.body,onChange:function(e){return o(Object(w.a)({},c,{body:e.target.value}))},required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-primary m-2",value:"Submit"})))})),ne=a(44),re=Object(u.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,l=a.loading,s=Object(ne.a)(e,["component","auth"]);return r.a.createElement(o.b,Object.assign({},s,{render:function(e){return n||l?r.a.createElement(t,e):r.a.createElement(o.a,{to:"/login"})}}))}),le=a(16),se=a(45),ce=a(46),oe=a(47),ue=[],ie={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},me={profile:null,profiles:[],loading:!0,error:{}},pe={posts:[],post:null,loading:!0,error:{}},fe={users:[],loading:!0,error:{}},de=Object(le.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(oe.a)(e),[n]);case"REMOVE_ALERT":return e.filter(function(e){return e.id!==n});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(w.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(w.a)({},e,n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(w.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":return Object(w.a)({},e,{profile:n,loading:!1});case"GET_PROFILES":return Object(w.a)({},e,{profiles:n,loading:!1});case"PROFILE_ERROR":return Object(w.a)({},e,{error:n,loading:!1});case"CLEAR_PROFILE":return Object(w.a)({},e,{profile:null,loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS":return Object(w.a)({},e,{posts:n,loading:!1});case"GET_POST":case"ADD_POST":return Object(w.a)({},e,{post:n,loading:!1});case E:return Object(w.a)({},e,{error:n,loading:!1});case"UPDATE_COMMENT_LIKES":return Object(w.a)({},e,{post:Object(w.a)({},e.post,{comments:n}),loading:!1});case"UPDATE_LIKES":return Object(w.a)({},e,{posts:e.posts.map(function(e){return e._id===n.id?Object(w.a)({},e,{likes:n.likes}):e}),loading:!1});case"UPDATE_LIKE":return Object(w.a)({},e,{post:Object(w.a)({},e.post,{likes:n}),loading:!1});case"UPDATE_STATUS":return Object(w.a)({},e,{posts:e.posts.map(function(e){return e._id===n.id?Object(w.a)({},e,{status:n.status}):e}),loading:!1});case"DELETE_POST":return Object(w.a)({},e,{posts:e.posts.filter(function(e){return e._id!==n}),loading:!1});case"ADD_COMMENT":case"ADD_SUB_COMMENT":return Object(w.a)({},e,{post:Object(w.a)({},e.post,{comments:n}),loading:!1});case"REMOVE_COMMENT":return Object(w.a)({},e,{post:Object(w.a)({},e.post,{comments:e.post.comments.filter(function(e){return e._id!==n}),loading:!1})});case"REMOVE_SUB_COMMENT":return Object(w.a)({},e,{post:Object(w.a)({},e.post,{comments:n}),loading:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_USERS":return Object(w.a)({},e,{users:n,loading:!1});case"PROFILE_ERROR":return Object(w.a)({},e,{error:n,loading:!1});default:return e}}}),Ee=[ce.a],be=Object(le.createStore)(de,{},Object(se.composeWithDevTools)(le.applyMiddleware.apply(void 0,Ee))),ge=Object(u.b)(function(e){return{alerts:e.alert}})(function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map(function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)})});localStorage.token&&v(localStorage.token);var he=function(){return Object(n.useEffect)(function(){be.dispatch(y())},[]),r.a.createElement(u.a,{store:be},r.a.createElement(c.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(N,null),r.a.createElement("div",{className:"alert-container"},r.a.createElement(ge,null)),r.a.createElement(o.b,{exact:!0,path:"/landing",component:k}),r.a.createElement(o.b,{exact:!0,path:"/about",component:O}),r.a.createElement("section",{className:"container"},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/register",component:C}),r.a.createElement(o.b,{exact:!0,path:"/login",component:S}),r.a.createElement(o.b,{exact:!0,path:"/profiles",component:q}),r.a.createElement(o.b,{exact:!0,path:"/profile/:id",component:V}),r.a.createElement(o.b,{exact:!0,path:"/",component:Q}),r.a.createElement(o.b,{exact:!0,path:"/posts/:id",component:te}),r.a.createElement(o.b,{exact:!0,path:"/post-form",component:ae}),r.a.createElement(re,{exact:!0,path:"/dashboard",component:Y}),r.a.createElement(re,{exact:!0,path:"/create-profile",component:B}),r.a.createElement(re,{exact:!0,path:"/edit-profile",component:W}))))))};s.a.render(r.a.createElement(he,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.8a305fe8.chunk.js.map